<!DOCTYPE html>
<html>
<head>
<script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.1.2/howler.core.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.1.2/howler.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.1.2/howler.min.js"></script>
</head>
<body>
<div id="titleMusic" style="font-size:x-large; margin-bottom: 20px;"></div>
<div style="display:flex;">
<button id="prevPlay">Previous</button>
<button id="playPause">Play</button>
<button id="nextPlay">Next</button>
</div>
</body>
<script>
var playBtn, playList, playIndex, extension, sound, titlePlay, nextBtn, prevBtn;
	
	// Set Object References
	playBtn = document.getElementById("playPause");
	titlePlay = document.getElementById("titleMusic");
	nextBtn = document.getElementById("nextPlay");
	prevBtn = document.getElementById("prevPlay");

	// Music Object
	gfriend = ['fever'];
	twice = ['candypop'];
	playList = twice.concat(gfriend);
	playIndex = 0;
	titlePlay.innerText = playList[playIndex];
	
	// Setting Audio Player
	extension = '.mp3';
	howlerBank = [];
	
	// Event Listener Object
	playBtn.addEventListener("click", playPause);
	nextBtn.addEventListener("click",  nextPlay);
	prevBtn.addEventListener("click", prevPlay);
	
	
	// Functional
	function playPause(){
		if(howlerBank[playIndex].playing() === false){
			howlerBank[playIndex].play();
			playBtn.innerText = "Pause";
		} else {
			howlerBank[playIndex].pause();
			playBtn.innerText = "Play";
		}
	}
	
	function changeTitle() {
		titlePlay.innerText = playList[playIndex];
	}
	
	function prevPlay() {
		sound.stop();
		if( playIndex < 0 ){
			playIndex = 0;
			howlerBank[playIndex].play();
			changeTitle();
		}else {
			playIndex = playIndex - 1;
			howlerBank[playIndex].play();
			changeTitle();
		}
	}
	
	function nextPlay() {
		howlerBank[playIndex].stop();
		if( playIndex >= playList.length - 1 ){
			playIndex = 0;
			howlerBank[playIndex].play();
			changeTitle();

		}else {
			playIndex = playIndex + 1;
			howlerBank[playIndex].play();
			changeTitle();
		}


	}
	
	var onEnd = function() {
		if(playIndex >= (playList.length - 1) ){
			playIndex = 0;
			howlerBank[playIndex].play();
		}else {
			playIndex = playIndex + 1;
			howlerBank[playIndex].play();
		}
	}
	
	playList.forEach(function(currentValue, i){
	howlerBank.push(new Howl({ src:[playList[i] + extension], onend:onEnd, html5: true }));
	})
	

</script>
</html>